<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="google-site-verification" content="" />
  
  <title>iOS小项目之第一弹- 壁纸天气</title>
  <meta name="author" content="ManoBoo">
   <meta name="description" content="ManoBoo的技术博客，以后文章会和简书同步更新~">
  

  <meta property="og:title" content="iOS小项目之第一弹- 壁纸天气"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:site_name" content="ManoBoo的技术小窝"/>
 <meta property="og:image" content="undefined"/>
  
  <link rel="alternate" href="/atom.xml" title="ManoBoo的技术小窝" type="application/atom+xml">
  <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/m.min.css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>

<body>
  <div id="main">
    <div class="behind">
      <div class="back">
        <a href="/" class="black-color"><i class="fa fa-times" aria-hidden="true"></i></a>
      </div>
      <div class="description">
        &nbsp;欢迎来ManoBoo的小窝做客
      </div>
    </div>
    <div class="container">
      

  <article class="standard post">
    <div class="title">
      
  
    <h1 class="page-title center">
        iOS小项目之第一弹- 壁纸天气
    </h1>
  


    </div>
    <div class="meta center">
      
<time datetime="2016-06-30T01:28:55.000Z">
  <i class="fa fa-calendar"></i>&nbsp;
  2016-06-30
</time>






    
    &nbsp;
    <i class="fa fa-tag"></i>&nbsp;
    <a href="/tags/iOS小项目-App/">iOS小项目 App</a>


    </div>
    <hr>
    <div class="picture-container">
      
    </div>
    <hr>
<p>##前言 ：</p>
<hr>
<p><strong>1. 整体项目回顾</strong><br> 距离上次发表文章也有大概两个月的时间了吧，这段时间一直在忙着公司的项目。没有时间review代码（可能是比较懒吧😅，以后一定改正），这个”壁纸天气”前前后后大概花了10天时间，设计、开发都是我（PS：不好看就将就着看，我只是一个有情怀的程序猿😜），都是下班了写写，代码比较简单，结构也不是很复杂。</p>
<p><strong>3. 做这个app的初衷</strong><br>前面做的高仿项目都是高仿app，数据都是本地数据，这次想玩玩网上的，刚开始只是看到百度ApiStore上有免费的天气接口，我就试着用了一下，感觉还不错，那就干脆写个天气app玩玩吧。<del>我就想要一个简单的app，就显示天气就好，其余过多的动画效果不需要，整体的页面无非就是<code>UITableView</code>、<code>UICollectionView</code>和一些 <code>UILabel</code>、<code>UIButton</code>的组合，理清楚思路就很好做了，其实UI搭建本身就是一件简单的事情，难的在于业务和逻辑的处理上。</del></p>
<p><strong>3.为什么叫壁纸天气？</strong><br>为了弥补画面的突兀感，主要是大片大片的白，我也不懂如何配色，我都用一张图片当做背景，O(∩_∩)O~~，所以我就起名叫做”壁纸天气”了。</p>
<hr>
<p>##项目的整体介绍：</p>
<hr>
<p>###<strong>1. 功能简介：</strong></p>
<p>####Tips:功能比较少，有以下几个：</p>
<p>#####①.  显示天气：首页显示添加过的城市的天气</p>
<p>#####②.  添加城市: 仅限与国内。</p>
<p>#####③.  管理已经添加的城市<br><code> </code></p>
<p>###<strong>2. 功能展示：</strong></p>
<p>#####①. 天气展示主页面 :类似于首页</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1299512-abf220551fb21483.gif?imageMogr2/auto-orient/strip" alt="首页展示.gif"></p>
<p>######点击每一个城市，弹出天气详情View，会显示该城市的历史天气和预测天气，其中今日天气还有诸如感冒指数、穿衣指数等一些提示。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1299512-f994d293274ee756.gif?imageMogr2/auto-orient/strip" alt="天气详情.gif"></p>
<p>#####②. 添加城市<br>输入城市中文名，然后展示搜索结果，选择要添加的城市即可。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1299512-60d3e8005c05d251.gif?imageMogr2/auto-orient/strip" alt="添加城市.gif"></p>
<p>#####③. 管理已经添加的城市<br>点击X删除选择的城市，<br><img src="http://upload-images.jianshu.io/upload_images/1299512-af536d4faed69db2.gif?imageMogr2/auto-orient/strip" alt="管理城市.gif"></p>
<p>#####③. 关于作者(PS:这一部分其实不算功能了吧😁)</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1299512-9971c3e9aac4bbdf.gif?imageMogr2/auto-orient/strip" alt="关于作者.gif"></p>
<p><code> </code></p>
<p>###<strong>3. 项目的实现方法：</strong></p>
<p>#####①. 开发过程中，大多数采用xib，我从纯代码的海洋里爬出来，看到了xib的新大陆😄，xib使用还是很方便的，代码量也少了很多，可是我依然喜欢纯代码😂</p>
<p>#####②.  数据的来源、请求与处理：<br>—–1.数据来源于百度ApiStore中的两个免费的天气接口,返回的数据都是JSON字符串：</p>
<p><strong><a href="http://apistore.baidu.com/apiworks/servicedetail/112.html" target="_blank" rel="external">百度接口链接</a></strong></p>
<blockquote>
<p>第一个：根据城市中文名称 查询城市ID<br>第二个： 根据城市ID查询近7天的天气<br>图片展示：</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/1299512-c9730c120b233fe3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="A5873AE1-3A82-496D-AE04-A1FEC252BFFE.png"><br>—–2.数据请求：<br>使用<code>NSURLSession</code>对应两个接口 封装了两个请求，没有使用第三方库。<br>—–3.数据处理：<br> ① 根据JSON字符串写了对应的模型，使用<code>MJExtension</code>解析JSON，并转成对应的<code>model</code><br> ②数据存储采用<code>NSUserDefaults</code>，对于项目的城市的存储操作封装了一个类<code>CityManager</code>，管理所有的存储、读取操作(比如 返回热门城市列表、返回当前已选择的城市)<br>Tips:由于<code>NSUserDefaults</code>不能存储自定义对象，所以需要先归档后存储</p>
<hr>
<p>##项目感想：</p>
<hr>
<p><code>`好吧，还没有怎么写就到项目感想了，这个项目结构非常简单，东西也比较少，但是麻雀虽小、五脏俱全，本地存储、网络请求都有，主要是这个</code>方正喵呜`字体真的非常萌啊，基本上所有的文字都采用的这个字体。由于精力有限，对应各种天气的图片并不全，只有几个大分类，比如’’小雨”、”中雨”、”大雨”我都用的一个图片˜😂，所以如果觉得粗糙，请见谅，哈哈。</p>
<p>正儿八经的说，做完这个小app，最主要的一个感想就是 <em>“做很简单，做好就不容易了”</em></p>
<p>好吧，第一弹就到这里了</p>
<p>####下一弹预告 ：</p>
<h6 id="一个黑白相间的、考验手速的小游戏，"><a href="#一个黑白相间的、考验手速的小游戏，" class="headerlink" title="一个黑白相间的、考验手速的小游戏，"></a>一个黑白相间的、考验手速的小游戏，</h6><p>##Github下载地址：</p>
<hr>
<p><a href="https://github.com/jiachenmu/WallpaperWeather" target="_blank" rel="external">点击去我的Github转转，觉得不错就赏个★</a></p>


  </article>
  </script>
    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
  </script>
  <div class="busuanzi center">
    页阅读量:&nbsp;<span id="busuanzi_value_page_pv"></span>&nbsp;・&nbsp;
    站访问量:&nbsp;<span id="busuanzi_value_site_pv"></span>&nbsp;・&nbsp;
    站访客数:&nbsp;<span id="busuanzi_value_site_uv"></span>
  </div>




    </div>
  </div>
  <footer class="page-footer"><div class="clearfix">
</div>
<div class="right-foot container">
    <div class="firstrow">
        <a href="#top" >
        <i class="fa fa-arrow-right"></i>
        </a>
        © XXX 2015-2016
    </div>
    <div class="secondrow">
        <a href="https://github.com/gaoryrt/hexo-theme-pln">
        Theme Pln
        </a>
    </div>
</div>
<div class="clearfix">
</div>
</footer>
  <script src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script>
<script src="/js/search.js"></script>
<script type="text/javascript">

// comments below to disable loading animation
function revealOnScroll() {
  var scrolled = $(window).scrollTop();
  $(".excerpt, .index-title, .index-meta, p").each(function() {
    var current = $(this),
      height = $(window).outerHeight(),
      offsetTop = current.offset().top;
    (scrolled + height + 50 > offsetTop) ? current.addClass("animation"):'';
  });
}
$(window).on("scroll", revealOnScroll);
$(document).ready(revealOnScroll)

// disqus scripts


// dropdown scripts
$(".dropdown").click(function(event) {
  var current = $(this);
  event.stopPropagation();
  $(current).children(".dropdown-content")[($(current).children(".dropdown-content").hasClass("open"))?'removeClass':'addClass']("open")
});
$(document).click(function(){
    $(".dropdown-content").removeClass("open");
})

// back to top scripts
$("a[href='#top']").click(function() {
  $("html, body").animate({ scrollTop: 0 }, 500);
  return false;
});


var path = "/search.xml";
searchFunc(path, 'local-search-input', 'local-search-result');

</script>

</body>
</html>
